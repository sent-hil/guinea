<!DOCTYPE html>
<html>
<head>
<title>Websockets in Go</title>
<meta charset="utf-8" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.js"></script>
<script>
  var websocket = new WebSocket("ws://localhost:8080/ws");

  websocket.onmessage = function (msg) {
    $("#output").append(msg.data+ "<br>");
  }

  websocket.onclose = function (msg) {
    console.log("FOO");
  }
</script>

<script>
  // send key presses to websocket
  $(document).ready(function() {
    $("body").keypress(function(e) {
      // convert from keycode to string
      var char = String.fromCharCode(e.keyCode);

      websocket.send(char);
      $("#input").append(char);
    });
  });
</script>

<body>
The Faith of Humanity Lives in The Black Liquid.
<div id="input">Input:</div>
<div id="output">Output:</div>
</body>

</html>
